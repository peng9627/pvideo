[db]
db_host = 127.0.0.1
db_port = 3306
db_user = root
db_pass = Qwer_1234
db_db = db_video
db_charset = utf8mb4

[sql]
sql_query_app_version = SELECT * FROM app_version WHERE type = %s AND platform = %s ORDER BY id LIMIT 1;

sql_create_account = INSERT INTO account (id, account_name, pwd, salt, nickname, create_time, code, last_time, last_address, device, platform) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s);
sql_query_account_by_account_name = SELECT * FROM account WHERE account_name = %s;
sql_query_account_id_by_code = SELECT id AS result FROM account WHERE code = %s;
sql_query_account_by_id = SELECT * FROM account WHERE id = %s;
sql_device_account_count = SELECT COUNT(id) AS result FROM account WHERE device = %s;
sql_update_pwd = UPDATE account SET pwd=%s WHERE id = %s;
sql_update_login = UPDATE account SET last_time=%s, last_address=%s WHERE id = %s;
sql_exist = SELECT COUNT(id) AS result FROM account WHERE account_name = %s;
sql_exist_code = SELECT COUNT(id) AS result FROM account WHERE code = %s;
sql_update_gold = UPDATE account SET gold = gold + %d WHERE id = %d;
sql_query_account_by_parent_id = SELECT a.id, a.nickname, a.create_time, a.gold, b.status FROM account a INNER JOIN agent b ON a.id = b.user_id WHERE b.parent_id = %s LIMIT %s, %s;

sql_delete_room_list = SELECT room_name FROM delete_room;

sql_advertisement = SELECT * FROM advertisement WHERE type = %s ORDER BY `index`;
sql_advertisement_add_count = UPDATE advertisement set count = count + 1 WHERE id = %s;

sql_advertisement_clicked_add = INSERT INTO advertisement_clicked (ad_id, user_id, create_time) VALUES (%s, %s, %s);

sql_recommend = SELECT * FROM recommend ORDER BY `index`;


sql_live_url = SELECT * FROM live_url;

sql_tv_url = SELECT * FROM tv_url ORDER BY `index`;

sql_video_types = SELECT * FROM video_type;

sql_add_video_praise = INSERT INTO video_praise (user_video) VALUES (%s);
sql_cancel_video_praise = DELETE FROM video_praise WHERE user_video = %s ;
sql_exist_video_praise = SELECT COUNT(id) AS result FROM video_praise WHERE user_video = %s;
sql_video_praise_count = SELECT COUNT(id) AS result FROM video_praise WHERE user_video LIKE %s;

sql_add_video_comment = INSERT INTO video_comment (user_id, video_id, create_time, content) VALUES (%s, %s, %s, %s);
sql_query_comment = SELECT a.nickname, a.head, v.create_time, v.content FROM video_comment v INNER JOIN account a ON a.id = v.user_id WHERE v.video_id = %s ORDER BY v.create_time DESC LIMIT %s, %s;
sql_video_comment_count = SELECT COUNT(id) AS result FROM video_comment WHERE video_id = %s;

sql_agent_by_id = SELECT * FROM agent WHERE user_id = %s;
sql_create_agent = INSERT INTO agent (create_time, user_id, agent_id, agent_ids, top_id) VALUES (%s, %s, %s, %s, %s);
sql_agent_get_agent_id = SELECT agent_id FROM agent WHERE user_id = %s;
sql_agent_join = UPDATE agent SET status = 1 WHERE user_id = %s AND agent_id = %s;
sql_agent_user_count = SELECT COUNT(id) AS result FROM agent WHERE agent_ids LIKE %s;
sql_agent_directly_count = SELECT COUNT(id) AS result FROM agent WHERE agent_id = %s;
sql_agent_today_new = SELECT COUNT(id) AS result FROM account WHERE id IN (SELECT user_id FROM agent WHERE agent_ids LIKE %s) AND create_time > %s;

sql_is_vip = SELECT COUNT(id) AS result FROM vip WHERE start_time <= %s AND end_time >= %s AND account_id = %s;
sql_vip_end_time = SELECT end_time AS result FROM vip WHERE account_id = %s ORDER BY end_time DESC LIMIT 1;
sql_create_vip = INSERT INTO vip (account_id, create_time, start_time, end_time, order_no, operation_account) VALUES (%s, %s, %s, %s, %s, %s);
sql_vip_use_history = SELECT account_id, create_time, order_no FROM vip WHERE order_no IN (SELECT order_no FROM t_order WHERE account_id = %s AND status = 2) ORDER BY create_time DESC LIMIT %s, %s;

sql_create_gold = INSERT INTO gold (type, source, user_id, gold, total_gold, time) values(%d, %d, %d, %d, %d, %d);
sql_gold_sum = SELECT SUM(gold) AS result FROM gold WHERE user_id = %s AND type = %s AND time > %s;

sql_goods_list = SELECT * FROM goods;
sql_goods_by_id = SELECT * FROM goods WHERE id = %s;

sql_recharge_config_list = SELECT * FROM recharge_config;
sql_recharge_config_by_id = SELECT * FROM recharge_config WHERE id = %s;

sql_create_order = INSERT INTO t_order (order_no, create_time, account_id, amount, goods_id, pay_type, details) VALUES (%s, %s, %s, %s, %s, %s, %s);
sql_order_list = SELECT order_no, create_time, details, status FROM t_order WHERE account_id = %s ORDER BY status, create_time DESC LIMIT %s, %s;
sql_pay_order = UPDATE t_order SET status = %s, pay_time = %s WHERE order_no = %s;
sql_order_by_no = SELECT status, goods_id FROM t_order WHERE order_no = %s;
sql_change_out_order_no = UPDATE t_order SET out_order_no = %s order_no = %s;


sql_notice_by_type = SELECT title, content FROM notice WHERE type = %s;

sql_add_movie = INSERT INTO movie (type, title, span, create_time, update_time, address, horizontal, vertical, actor, child_type, director, region, year, total_part, details, source) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s);
sql_movie_list = SELECT id, type, title, span, update_time, play_count, horizontal, vertical FROM movie %s %s LIMIT %s, %s;
sql_movie_short = SELECT id, title, address FROM movie WHERE child_type LIKE %s ORDER BY RAND() LIMIT %s, %s;
sql_movie_add_count = UPDATE movie SET play_count = play_count + 1 WHERE id = %s;
sql_query_movie_details = SELECT type, title, span, update_time, horizontal, vertical, actor, child_type, director, region, year, total_part, source, address, details, play_count FROM movie WHERE id in (%s);
sql_movie_search = SELECT id, type, title, span, update_time, play_count, horizontal, vertical FROM movie WHERE title LIKE %s OR span LIKE %s OR child_type LIKE %s ORDER BY update_time DESC LIMIT %s, %s;
sql_movie_ranking = SELECT m.id, m.type, m.title, m.span, m.horizontal, m.vertical, m.actor, m.child_type, m.director, m.region, m.year, m.details FROM movie m INNER JOIN play_details p on m.id = p.video_id WHERE p.create_time > %s AND m.type = %s GROUP BY p.video_id ORDER BY SUM(p.play_count) DESC LIMIT %s, %s;
sql_get_movie_url = SELECT address, source FROM movie WHERE id = %s;
sql_movie_exist = SELECT COUNT(id) AS result FROM movie WHERE title = %s AND year = %s AND type = %s;

sql_recommend_movie = SELECT * FROM recommend_movie ORDER BY `index`;

sql_exist_video_history = SELECT COUNT(id) AS result FROM video_history WHERE user_id = %s AND video_id = %s AND video_type = %s;
sql_create_video_history = INSERT INTO video_history (user_id, device, video_id, video_type, update_time, content) VALUES (%s, %s, %s, %s, %s, %s);
sql_update_video_history = UPDATE video_history SET content = %s, update_time = %s WHERE user_id = %s AND video_id = %s AND video_type = %s;
sql_query_movie_history = SELECT m.id, m.type, m.title, m.span, m.horizontal, m.vertical, mh.content, mh.update_time FROM video_history AS mh INNER JOIN movie AS m ON m.id = mh.video_id WHERE mh.user_id = %s AND mh.video_type = %s LIMIT %s, %s;
sql_movie_history_content = SELECT content FROM video_history WHERE user_id = %s AND video_id = %s AND video_type = %s;

sql_create_feedback = INSERT INTO feedback (user_id, device, title, content, create_time) VALUES (%s, %s, %s, %s, %s);
sql_feedback_list = SELECT id, title, create_time, status FROM feedback WHERE (user_id != 0 AND user_id = %s) OR (user_id = 0 AND device = %s) LIMIT %s, %s;
sql_feedback_by_id = SELECT title, content, create_time, reply_time, reply, status  FROM feedback WHERE id = %s;

sql_create_app_init = INSERT INTO app_init (create_time, user_id, device, ip, platform) VALUES (%s, %s, %s, %s, %s);
sql_agent_today_active = SELECT COUNT(DISTINCT user_id) AS result FROM app_init WHERE user_id IN (SELECT user_id FROM agent WHERE parent_ids LIKE %s) AND create_time > %s;

sql_create_sign = INSERT INTO sign (create_time, user_id, gold) VALUES (%s, %s, %s);
sql_sign_exist = SELECT COUNT(id) AS result FROM sign WHERE user_id = %s AND create_time = %s;
sql_sign_by_time = SELECT gold FROM sign WHERE user_id = %s AND create_time = %s;

sql_create_play_details = INSERT INTO play_details (video_id, create_time, play_count) VALUES (%s, %s, 1);
sql_play_details_exist = SELECT COUNT(id) AS result FROM play_details WHERE video_id = %s AND create_time = %s;
sql_play_details_add_count = UPDATE play_details SET play_count = play_count + 1 WHERE video_id = %s AND create_time = %s;

sql_add_chat_history_list = INSERT INTO chat_history_list (user_id, to_id, last_time, content) VALUES (%s, %s, %s, %s);
sql_chat_history_list_exist = SELECT COUNT(id) AS result FROM chat_history_list WHERE user_id = %s AND to_id = %s;
sql_update_chat_history_list = UPDATE chat_history_list SET last_time = %s, content = %s WHERE user_id = %s AND to_id = %s;
sql_update_chat_history_list_unread = UPDATE chat_history_list SET last_time = %s, content = %s, unread = unread + 1 WHERE user_id = %s AND to_id = %s;
sql_receive_chat_history_list = UPDATE chat_history_list SET unread = 0 WHERE user_id = %s AND to_id = %s;
sql_delete_chat_history_list = DELETE chat_history_list WHERE user_id = %s AND to_id = %s;
sql_query_chat_history_list = SELECT to_id, last_time, content, unread FROM chat_history_list WHERE user_id = %s ORDER BY last_time DESC LIMIT %s, %s;

sql_create_chat_history = INSERT INTO chat_history (user_id, to_id, create_time, content) VALUES (%s, %s, %s, %s);
sql_receive_chat_history = UPDATE chat_history SET receive_time = %s WHERE create_time <= %s AND user_id = %s AND to_id = %s;
sql_clean_chat_history = UPDATE chat_history SET deleted = 1 WHERE user_id = %s AND to_id = %s;
sql_query_chat_history = SELECT user_id, create_time, content FROM chat_history WHERE ((user_id = %s AND to_id = %s) OR (to_id = %s AND user_id = %s)) AND create_time < %s AND deleted = 0 ORDER BY create_time DESC LIMIT %s, %s;
sql_chat_history_unread_count = SELECT COUNT(id) AS result FROM chat_history WHERE to_id = %s AND receive_time = 0;


[redis]
host = 127.0.0.1
port = 6379
pass = Qwer_1234

[sms]
sms_user = clyjzjo
sms_key = 6kmv95

[server]
same_device_register = 2
barrage_port = 5001
register_gold = 1000
share_add_gold = 5000
default_times = 5
init_times = 10
register_vip_day = 1
share_add_vip_day = 3
use_order = False
android_url = http://192.168.0.104:8000/app-debug.apk
ios_url =
h5_url = http://192.168.0.104:8000
img_tmp = /usr/img_tmp/
server_url = http://192.168.0.105:5555
download_url = http://192.168.0.105:5555/download
video_domain = https://ts.mxmcfbab.com/
img_domain =
; img_domain = https://img.mxmcfbab.com/
media_path = D:\\media_dn\\

[mail]
mail_sender = dmtest111111@outlook.com
mail_pass = Aadmtest
mail_host = smtp.office365.com
mail_port = 587

[s3]
endpoint_url = https://ewr1.vultrobjects.com
aws_access_key_id = PAN2CRFO96LB9N0KT6CB
aws_secret_access_key = d4rPX412shsMw8JJmpA3Bee3FyF7O5xG6bqLxJWd
region_name = cn-north-1

[agent]
level_conf=[{"level":1,"value":0,"gold":50},{"level":2,"value":1,"gold":100},{"level":3,"value":3,"gold":500},{"level":4,"value":5,"gold":1000},{"level":5,"value":10,"gold":2500}]
