[db]
db_host = 192.168.0.110
db_port = 3306
db_user = root
db_pass = Pengyi_9627
db_db = db_video
db_charset = utf8mb4

[sql]
sql_query_app_version = SELECT * FROM app_version WHERE type = %s AND platform = %s ORDER BY id LIMIT 1;

sql_create_account = INSERT INTO account (account_name, pwd, salt, nickname, create_time, code, last_time, last_address) VALUES (%s, %s, %s, %s, %s, %s, %s, %s);
sql_query_account_by_account_name = SELECT * FROM account WHERE account_name = %s;
sql_query_account_by_code = SELECT * FROM account WHERE code = %s;
sql_query_account_by_id = SELECT * FROM account WHERE id = %s;
sql_update_pwd = UPDATE account SET pwd=%s WHERE id = %s;
sql_update_login = UPDATE account SET last_time=%s, last_address=%s WHERE id = %s;
sql_exist = SELECT COUNT(id) AS result FROM account WHERE account_name = %s;
sql_exist_code = SELECT COUNT(id) AS result FROM account WHERE code = %s;
sql_update_gold = UPDATE account SET gold = gold + %d WHERE id = %d;
sql_query_account_by_parent_id = SELECT a.id, a.nickname, a.create_time, a.gold, b.status FROM account a INNER JOIN agent b ON a.id = b.user_id WHERE b.parent_id = %s LIMIT %s, %s;

sql_delete_room_list = SELECT room_name FROM delete_room;

sql_advertisement = SELECT * FROM advertisement WHERE type = %s ORDER BY `index`;
sql_advertisement_add_count = UPDATE advertisement set count = count + 1 WHERE id = %s;

sql_advertisement_clicked_add = INSERT INTO advertisement_clicked (ad_id, user_id, create_time) VALUES (%s, %s, %s);

sql_vip_video = SELECT * FROM vip_video ORDER BY `index`;
sql_recommend = SELECT * FROM recommend ORDER BY `index`;

sql_vip_video_url = SELECT * FROM vip_video_url;

sql_live_url = SELECT * FROM live_url;

sql_tv_url = SELECT * FROM tv_url ORDER BY `index`;

sql_video_types = SELECT * FROM video_type;

sql_add_video = INSERT INTO video (type, title, create_time, address, horizontal, vertical) VALUES (%s, %s, %s, %s, %s, %s);
sql_video_list = SELECT * FROM video WHERE type = %s ORDER BY create_time DESC LIMIT %s, %s;
sql_video_search = SELECT * FROM video WHERE type != 0 ANF title like %s ORDER BY create_time DESC LIMIT %s, %s;
sql_query_video_by_ids = SELECT * FROM video WHERE id in (%s);
sql_video_count = SELECT * FROM video WHERE type != 0 ORDER BY play_count DESC LIMIT %s, %s;
sql_video_newest = SELECT * FROM video WHERE type != 0 ORDER BY create_time DESC LIMIT %s, %s;
sql_video_recommend = SELECT * FROM video WHERE type != 0 ORDER BY RAND() DESC LIMIT 6;
sql_video_add_count = UPDATE video set play_count = play_count + 1 WHERE id = %s;
sql_video_add_comment = UPDATE video set comment = comment + 1 WHERE id = %s;
sql_video_add_praise = UPDATE video set praise = praise + 1 WHERE id = %s;
sql_video_cancel_praise = UPDATE video set praise = praise - 1 WHERE id = %s;
sql_video_info = SELECT v.title, v.create_time, v.play_count, t.title AS type FROM video v INNER JOIN video_type t ON t.id = v.type WHERE v.id = %s;

sql_add_video_praise = INSERT INTO video_praise (user_video) VALUES (%s);
sql_cancel_video_praise = DELETE FROM video_praise WHERE user_video = %s ;
sql_exist_video_praise = SELECT COUNT(id) AS result FROM video_praise WHERE user_video = %s;
sql_video_praise_count = SELECT COUNT(id) AS result FROM video_praise WHERE user_video LIKE %s;

sql_add_video_comment = INSERT INTO video_comment (user_id, video_id, create_time, content) VALUES (%s, %s, %s, %s);
sql_query_comment = SELECT a.nickname, a.head, v.create_time, v.content FROM video_comment v INNER JOIN account a ON a.id = v.user_id  WHERE v.video_id = %s ORDER BY v.create_time DESC LIMIT %s, %s;
sql_video_comment_count = SELECT COUNT(id) AS result FROM video_comment WHERE video_id = %s;

sql_agent_by_id = SELECT * FROM agent WHERE user_id = %s;
sql_add_min = UPDATE agent SET min = min + %d, total_min = total_min + %d WHERE user_id = %d;
sql_use_min = UPDATE agent SET min = min - %d WHERE user_id = %d;
sql_reset_min = UPDATE agent SET min = total_min;
sql_query_min = SELECT min FROM agent WHERE user_id = %s;
sql_add_agent = INSERT INTO agent (create_date, user_id, parent_id, parent_ids, top_id, min, total_min, contact) VALUES (%s, %s, %s, %s, %s, %s, %s, %s);
sql_agent_get_parent_id = SELECT parent_id FROM agent WHERE user_id = %s;
sql_agent_contact = SELECT contact FROM agent WHERE user_id = %s;
sql_agent_join = UPDATE agent SET status = 1 WHERE user_id = %s AND parent_id = %s;
sql_agent_set = UPDATE agent SET contact = %s WHERE user_id = %s OR (parent_ids like %s AND contact = %s);
sql_agent_user_count = SELECT COUNT(id) AS result FROM agent WHERE parent_ids LIKE %s;
sql_agent_directly_count = SELECT COUNT(id) AS result FROM agent WHERE parent_id = %s;
sql_agent_today_new = SELECT COUNT(id) AS result FROM account WHERE id IN (SELECT user_id FROM agent WHERE parent_ids LIKE %s) AND create_time > %s;
sql_agent_today_active = SELECT COUNT(id) AS result FROM account WHERE id IN (SELECT user_id FROM agent WHERE parent_ids LIKE %s) AND last_time > %s;

sql_is_vip = SELECT COUNT(id) AS result FROM vip WHERE start_time <= %s AND end_time >= %s AND account_id = %s;
sql_vip_end_time = SELECT end_time AS result FROM vip WHERE account_id = %s ORDER BY end_time DESC LIMIT 1;
sql_create_vip = INSERT INTO vip (account_id, create_time, start_time, end_time, order_no, operation_account) VALUES (%s, %s, %s, %s, %s, %s);
sql_vip_use_history = SELECT account_id, create_time, order_no FROM vip WHERE order_no IN (SELECT order_no FROM t_order WHERE account_id = %s AND status = 2) LIMIT %s, %s;

sql_create_gold = INSERT INTO gold (type, source, user_id, gold, total_gold, time) values(%d, %d, %d, %d, %d, %d);
sql_gold_sum = SELECT SUM(gold) AS result FROM gold WHERE user_id = %s AND type = %s AND time > %s;

sql_goods_list = SELECT * FROM goods;
sql_goods_by_id = SELECT * FROM goods WHERE id = %s;

sql_create_order = INSERT INTO t_order (order_no, create_time, account_id, amount, goods_id, pay_type, details) VALUES (%s, %s, %s, %s, %s, %s, %s);
sql_order_list = SELECT order_no, create_time, details, status FROM t_order WHERE account_id = %s ORDER BY status LIMIT %s, %s;
sql_pay_order = UPDATE t_order SET status = %s, pay_time = %s WHERE order_no = %s;
sql_order_by_no = SELECT status, goods_id FROM t_order WHERE order_no = %s;

sql_notice_by_type = SELECT title, content FROM notice WHERE type = %s;

[redis]
host = 192.168.0.110
port = 10005
pass = qwer10006

[sms]
sms_user = clyjzjo
sms_key = 6kmv95

[server]
barrage_port = 5001
login_gold = 1000
share_add_gold = 5000
default_min = 180
init_min = 300
share_add_min = 600
init_vip_day = 0
share_add_vip_day = 1
android_url=http://xmvip.vip/zzyl
ios_url=http://xmvip.vip/zzyl
video_img_domain=https://shyv2.sekiro.info
video_video_domain=https://aevi.h-shops.com

[api]
api_host = 127.0.0.1:5000
bind = /agent/bind
bind_param = {"userid": %d, "code": "%s", "ip": "%s"}